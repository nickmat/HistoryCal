<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
 <title>HistoryCal - mark &amp; clear</title>
 <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
 <link rel='icon' type='image/png' href='../../../sys/logo32x32.png' />
 <link rel='stylesheet' type='text/css' href='../../../sys/livery.css' />
 <link rel='stylesheet' type='text/css' href='../../../sys/hcal.css' />
</head>
<body>

 <div class='heading'>
  <div class='logo'>
   <a  href='http://historycal.org'>
    <img class='logo' src='../../../sys/logo266x100.png' alt='Logo' />
   </a>
  </div>
  HistoryCal - V0.0.7 Manual<br />mark &amp; clear
  <div class='clear'></div>
 </div>

 <div class="crumbs">
  <a href='../../../index.htm' class='m-item'>Home</a>
  <a href='../../../dev/index.htm' class='m-item'>Development</a>
  <a href='../../../dev/man/index.htm' class='m-item'>V0.0.7 Manual</a>
  <a href='../../../dev/man/script/index.htm' class='m-item'>Script</a>
  <a href='mark.htm' class='m-item thispage'>mark &amp; clear</a>
  <a href='../../../dev/man/script/lexicon.htm' class='m-item nav'>►</a>
  <a href='../../../dev/man/script/function.htm' class='m-item nav'>◄</a>
 </div>

<div id='content' class='nomenu'>

<h2>mark &amp; clear Statements</h2>
<p>
 Unless directed otherwise, the program will remember all variables and defined entities,
 even after the script has finished running.
 The statements <b>mark</b> and <b>clear</b> are used to control this behaviour.
</p>
<p>
 Entities definitions (function, scheme etc.) are added to the library as they are encountered in the script.
 This can be particularly problematic when testing a new script,
 when we may want to make small changes and re-run the script.
 Without using 'mark', it would try to add another copy of the entity which would result in an error.
</p>
<p>
 Note that we control the removal of entities separately from the removal of variables.
</p>

<table class='basic'>
 <tr><th>Format</th><th>Example</th></tr>
 <tr>
  <td class='code'><b>mark</b> <i>tag</i><b>;</b></td>
  <td class='example'><b>mark</b> start.test;</td>
 </tr>
 <tr>
  <td class='code'><b>clear;</b></td>
  <td class='example'><b>clear</b>;</td>
 </tr>
 <tr>
  <td class='code'><b>clear</b> <i>tag</i><b>;</b></td>
  <td class='example'><b>clear</b> start.test;</td>
 </tr>
</table>

<h3>mark Statement</h3>
<p>
 When processing the <b>mark</b> statement, if the tag is already in use
 then all entity definitions added after that tag are removed.
 The mark tag itself is not remove but any mark tags added afterwards are removed.
</p>
<p>
 The default input and output schemes that have been set after the <b>mark</b> statement
 are reset to their original values.
</p>
<p>
 Note that variable names are not removed with this statement.
 Use <b>clear</b> to remove the tag as well as all variables.
</p>

<h3>clear Statement</h3>
<p>
 A <b>clear</b> statement by itself will remove all the current variables.
 It can be used at the beginning of a script to ensure we are starting with a clean slate.
 Or it can be used at the end to tidy up.
</p>
<p>
 A <b>clear</b> statement with a tag is equivalent to a <b>mark</b> statement plus a plain clear statement
 and the <b>mark</b> statement will be removed as well.
</p>
<p>
 In effect, the <b>clear</b> <i>tag</i><b>;</b> statement will remove all traces of the script
 since, and including, the corresponding <b>mark</b> <i>tag</i><b>;</b> statement.
</p>


</div><!--id=content-->

 <div class="crumbs">
  <a href='../../../index.htm' class='m-item'>Home</a>
  <a href='../../../dev/index.htm' class='m-item'>Development</a>
  <a href='../../../dev/man/index.htm' class='m-item'>V0.0.7 Manual</a>
  <a href='../../../dev/man/script/index.htm' class='m-item'>Script</a>
  <a href='mark.htm' class='m-item thispage'>mark &amp; clear</a>
  <a href='../../../dev/man/script/lexicon.htm' class='m-item nav'>►</a>
  <a href='../../../dev/man/script/function.htm' class='m-item nav'>◄</a>
 </div>

 <div class='tail'></div>

 <div id='valid'>
  <p>
   <a href='http://validator.w3.org/check?uri=referer'>
    <img src='../../../sys/valid-xhtml10.png' alt='Valid XHTML 1.0 Strict' height='31' width='88' />
   </a>
  </p>
 </div>

 <div id='create-date'><p>12<sup>th</sup> October 2016</p></div>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
//<![CDATA[
var sc_project=9849843;
var sc_invisible=1;
var sc_security="4988237c";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter_xhtml.js'></"+"script>");
//]]>
</script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/free-web-stats/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/9849843/0/4988237c/1/"
alt="website statistics" /></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->

</body>
</html>
