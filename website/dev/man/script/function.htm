<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
 <title>HistoryCal - function &amp; call</title>
 <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
 <link rel='icon' type='image/png' href='../../../sys/logo32x32.png' />
 <link rel='stylesheet' type='text/css' href='../../../sys/livery.css' />
 <link rel='stylesheet' type='text/css' href='../../../sys/hcal.css' />
</head>
<body>

 <div class='heading'>
  <div class='logo'>
   <a  href='http://historycal.org'>
    <img class='logo' src='../../../sys/logo266x100.png' alt='Logo' />
   </a>
  </div>
  HistoryCal - V0.0.7 Manual<br />function &amp; call
  <div class='clear'></div>
 </div>

 <div class="crumbs">
  <a href='../../../index.htm' class='m-item'>Home</a>
  <a href='../../../dev/index.htm' class='m-item'>Development</a>
  <a href='../../../dev/man/index.htm' class='m-item'>V0.0.7 Manual</a>
  <a href='../../../dev/man/script/index.htm' class='m-item'>Script</a>
  <a href='function.htm' class='m-item thispage'>function &amp; call</a>
  <a href='../../../dev/man/script/mark.htm' class='m-item nav'>►</a>
  <a href='../../../dev/man/script/do.htm' class='m-item nav'>◄</a>
 </div>

<div id='content' class='nomenu'>

<h2>Statements function And call</h2>
<p>
 A function statement defines a function that can either be
 called from a call statement or used in an expression with the function operator '@'.
 Optionally, arguments can be passed to the function which can then be used as local variables.
 When calling the function, these augments may be given values or omitted.
 An argument can be given a default value when the function is defined.
</p>
<p>
 When the function is run, the arguments are treated as local variables.
 An addition local variable named 'result' is created,
 and this is the value given to the function when it used in an expression.
 Additional variables that are created within the function will be local
 and their values lost when the function completes.
 Variables created outside of the function cannot be seen whilst inside.
</p>

<table class='basic'>
<tr><th colspan='3'>function Statement</th></tr>
<tr><th>Format</th><th>Example</th><th>Output</th></tr>
 <tr> <!-- See test file - test\tscripts\suite\functions\function012.hcs -->
  <td class='code'>
   <b>function</b> <i>name</i> <b>{</b><br />
     <i>statements ...</i><br />
   <b>}</b><br />
   <br />
   <b>call</b> <i>name</i><b>;</b>
  </td>
  <td class='example'><b>function</b> wr.today <b>{</b>
    write string,g:dmy today;
<b>}</b>
    ...
<b>call</b> wr.today<b>;</b></td>
  <td>21 May 2017</td>
 </tr>
 <tr> <!-- See test file - test\tscripts\suite\functions\function013.hcs -->
  <td class='code'>
   <b>function</b> <i>name</i> <b>{</b><br />
     ... result = <i>expr</i><b>;</b> ...<br />
   <b>}</b><br />
   <br />
   write <b>@</b><i>name</i><b>;</b>
  </td>
  <td class='example'><b>function</b> get.today <b>{</b>
    result = "(" + string,g:dmy today + ")";
<b>}</b>
    ...
write <b>@</b>get.today;</td>
  <td>(21 May 2017)</td>
 </tr>
 <tr> <!-- See test file - test\tscripts\suite\functions\function014.hcs -->
  <td class='code'>
   <b>function</b> <i>name</i><b>(</b><i>arg</i><b>=</b><i>value</i><b>,</b> <i>arg</i><b>=</b><i>value</i><b>) {</b><br />
     <i>statements ...</i><br />
   <b>}</b><br />
   <br />
   <b>call</b> <i>name</i><b>(</b><i>value1</i><b>,</b> <i>value2</i><b>);</b>
  </td>
  <td class='example'><b>function</b> wr.range.plus<b>(</b>start<b>,</b> duration = 7<b>){</b>
    write string,g:dmy( start ~ start + duration );
<b>}</b>
    ...
<b>call</b> wr.range.plus<b>(</b>date,g:dmy "19sep1948"<b>,</b> 14<b>);</b></td>
  <td>19 Sep 1948 ~ 3 Oct 1948</td>
 </tr>
 <tr> <!-- See test file - test\tscripts\suite\functions\function015.hcs -->
  <td class='code'>
   <b>function</b> <i>name</i><b>(</b><i>arg</i><b>=</b><i>value</i><b>,</b> <i>arg</i><b>=</b><i>value</i><b>) {</b><br />
     ... result = <i>expr</i><b>; ...</b><br />
   <b>}</b><br />
   <br />
   write <b>@</b><i>name</i><b>(</b><i>value1</i><b>,</b> <i>value2</i><b>);</b>
  </td>
  <td class='example'><b>function</b> range.plus<b>(</b>start<b>,</b> duration = 7<b>){</b>
    result = start ~ start + duration;
<b>}</b>
    ...
write string,g:dmy <b>@</b>range.plus<b>(</b>2432814<b>);</b></td>
  <td>19 Sep 1948 ~ 26 Sep 1948</td>
 </tr>
 <tr>
  <td colspan='3'>Written when today = "g:dmy# 21 May 2017"</td>
 </tr>
</table>


</div><!--id=content-->

 <div class="crumbs">
  <a href='../../../index.htm' class='m-item'>Home</a>
  <a href='../../../dev/index.htm' class='m-item'>Development</a>
  <a href='../../../dev/man/index.htm' class='m-item'>V0.0.7 Manual</a>
  <a href='../../../dev/man/script/index.htm' class='m-item'>Script</a>
  <a href='function.htm' class='m-item thispage'>function &amp; call</a>
  <a href='../../../dev/man/script/mark.htm' class='m-item nav'>►</a>
  <a href='../../../dev/man/script/do.htm' class='m-item nav'>◄</a>
 </div>

 <div class='tail'></div>

 <div id='valid'>
  <p>
   <a href='http://validator.w3.org/check?uri=referer'>
    <img src='../../../sys/valid-xhtml10.png' alt='Valid XHTML 1.0 Strict' height='31' width='88' />
   </a>
  </p>
 </div>

 <div id='create-date'><p>29<sup>th</sup> April 2017</p></div>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
//<![CDATA[
var sc_project=9849843;
var sc_invisible=1;
var sc_security="4988237c";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter_xhtml.js'></"+"script>");
//]]>
</script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/free-web-stats/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/9849843/0/4988237c/1/"
alt="website statistics" /></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->

</body>
</html>
